<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">ImageMap Editor</a>
    </div>
    <div class="navbar-collapse collapse">
      <form class="navbar-form navbar-right">
        <div class="form-group">
          <label for="" class="control-label">Name: </label>
          <input type="text" class="form-control input-sm" ng-model="showcase.name">
        </div>
        <div class="form-group">
          <label class="control-label">Image URL: </label>
          <input type="url" class="form-control input-sm" ng-change="displayImageFromUrl()" ng-model="showcase.image.url">
        </div>
        <button class="btn btn-default" trigger-file-input>Browse</button>
        <input type="file" class="hidden-file-input" ng-file-select="" ng-model="showcase.file">
      </form>
    </div>
  </div>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="sidebar editor-toolbar">
      <button class="btn btn-default btn-block" area-shape ng-click="changeDrawingShape('rectangle')">Rectangle</button>
      <button class="btn btn-default btn-block" area-shape ng-click="changeDrawingShape('circle')">Circle</button>
      <button class="btn btn-default btn-block" area-shape ng-click="changeDrawingShape('polygon')">Polygon</button>
      <div class="space-vertical-sm">
        <label class="control-label" style="margin-top: 10px;">Width:</label>
        <input class="form-control input-sm" type="number" ng-model="showcase.dimensions.width" />
        <label class="control-label">Height:</label>
        <input class="form-control input-sm" type="number" ng-model="showcase.dimensions.height" />
      </div>
      <p class="value" ng-show="uploader.queue[0]">File size: <strong>{{ uploader.queue[0].file.size/1024|number:2 }} KB</strong></p>
      <div class="space-vertical-sm">
        <button class="btn btn-success btn-block" ng-click="addShowcase()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
          <i class="glyphicon glyphicon-upload"></i>Save
        </button>
        <button class="btn btn-danger btn-block" ng-click="removeCurrentImage()">
          <i class="glyphicon glyphicon-trash"></i>Remove
        </button>
      </div>
    </div>
    <div class="main-editor" ng-file-drop="">
      <div class="my-drop-zone trigger text-center">
        <h2 class="glyphicon glyphicon-upload"></h2>
        <h3>Drop your image file here.</h3>
      </div>
      <div image-maps-editor="" ng-init="map = map || {}" class="editor-workspace">
        <div class="showcase-preview text-center">
          <div class="preview-container" ng-init="isPreviewImageLoaded = isPreviewImageLoaded || false">
            <div class="canvas-container">
              <canvas class="preview"
                showcase-preview=""
                width="{{ showcase.dimensions.width }}"
                height="{{ showcase.dimensions.height }}"></canvas>
              <canvas class="area"
                ng-repeat="area in map.areas"
                ng-mousedown="startShapeMove($event)"
                ng-mousemove="moveShape($event)"
                ng-mouseup="stopShapeMove($event)"
                ng-mouseenter="area.active = true"
                ng-mouseleave="area.active = false"
                ng-dblclick="removeArea($index)"
                ng-class="{active: !area.active}"
                data-index="{{$index}}"
                map-area></canvas>
            </div>
            <canvas class="preview-transparent"
              width="{{ showcase.dimensions.width }}"
              height="{{ showcase.dimensions.height }}"
              ng-class="{active: isDrawing, hidden: !isPreviewImageLoaded}"
              ng-click="startDrawingShape($event)"
              ng-mousemove="drawShape($event)"></canvas>
          </div>
        </div>
        <section class="area-properties-list clearfix">
          <h4 ng-show="map.areas[0]">Area properties:</h4>
          <div class="area-properties form-inline space-vertical-sm"
            area-properties
            ng-repeat="area in map.areas"
            ng-mouseenter="area.active = true"
            ng-mouseleave="area.active = false"
            ng-class="{active: !area.active}">
            <div class="form-group">
              <label for="" class="control-label">URL: </label>
              <input type="text" class="form-control input-sm" ng-model="area.url">
            </div>
            <div class="form-group">
              <label for="" class="control-label">Title: </label>
              <input type="text" class="form-control input-sm" ng-model="area.title">
            </div>
            <div class="form-group">
              <label for="" class="control-label">Target: </label>
              <select class="form-control input-sm"
                ng-init="area.target = area.target || linkTargets[0]"
                ng-model="area.target"
                ng-options="target.value for target in linkTargets"></select>
            </div>
            <div class="form-group">
              <label for="" class="control-label">Area coords: </label>
              <input type="text" class="form-control input-sm" ng-model="area.shape" imagemap-display-coords>
            </div>
            <button class="btn btn-danger" ng-click="removeArea($index)"><i class="glyphicon glyphicon-remove"></i></button>
          </div>
        </section>
      </div>
    </div>
  </div>
</div>
