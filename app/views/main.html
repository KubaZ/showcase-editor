<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">ImageMap Editor</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a class="dropdown-toggle" dropdown-toggle>Showcase properties <b class="caret"></b></a>
          <form novalidate="" name="showcasePropertiesForm" class="dropdown-menu dropdown-form navbar-form">
            <div class="form-group">
              <label for="" class="control-label">Name: </label>
              <input type="text" class="form-control input-sm" ng-model="showcase.name" required>
            </div>
            <div class="form-group">
              <label for="" class="control-label">Showcase Type:</label>
              <select class="form-control input-sm"
                ng-model="showcase.type"
                ng-init="showcase.type = showcase.type || showcaseTypes[0]"
                ng-options="type.name for type in showcaseTypes" required></select>
            </div>
            <div class="form-group">
              <label for="" class="control-label">Order: </label>
              <select class="form-control input-sm"
                ng-model="showcase.order">
                <option ng-value="i" ng-repeat="i in [1,2,3,4,5]" required>{{i}}</option>
              </select>
            </div>
            <div class="form-group">
              <label for="" class="control-label">Active: <input type="checkbox" class="form-control input-sm" ng-init="showcase.activity = false" ng-model="showcase.activity"></label>
            </div>
            <div class="form-group">
              <label for="" class="control-label">Commercial: <input type="checkbox" class="form-control input-sm" ng-init="showcase.commercial = false" ng-model="showcase.commercial"></label>
            </div>
          </form>
        </li>
      </ul>
      <form novalidate="" name="showcaseImageForm" class="navbar-form navbar-right">
        <div class="form-group">
          <label class="control-label">Image URL: </label>
          <input type="url" class="form-control input-sm" ng-change="displayImageFromUrl()" ng-model="showcase.image.url">
        </div>
        <button class="btn btn-default" trigger-file-input>Browse</button>
        <input type="file" class="hidden-file-input" ng-file-select="" ng-model="showcase.file">
      </form>
    </div>
  </div>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="sidebar editor-toolbar">
      <button class="btn btn-default btn-block active" area-shape ng-click="changeDrawingShape('rectangle')">
        <i class="editor-glyphicon editor-glyphicon-rectangle"></i>
      </button>
      <button class="btn btn-default btn-block" area-shape ng-click="changeDrawingShape('circle')">
        <i class="editor-glyphicon editor-glyphicon-circle"></i>
      </button>
      <button class="btn btn-default btn-block" area-shape ng-click="changeDrawingShape('polygon')">
        <i class="editor-glyphicon editor-glyphicon-polygon"></i>
      </button>
      <p class="value space-vertical-sm">Width: <strong>{{showcase.type.width | pixels}}</strong></p>
      <p class="value">Height: <strong>{{showcase.type.height | pixels}}</strong></p>
      <p class="value" ng-show="uploader.queue[0]">File size: <strong>{{ uploader.queue[0].file.size/1024|number:2 }} KB</strong></p>
      <div class="space-vertical-sm">
        <button class="btn btn-success btn-block" ng-click="addShowcase()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
          <i class="glyphicon glyphicon-upload"></i>
          <span>Save</span>
        </button>
        <button class="btn btn-danger btn-block" ng-click="removeCurrentImage()">
          <i class="glyphicon glyphicon-trash"></i>
          <span>Remove</span>
        </button>
      </div>
    </div>
    <div class="main-editor" ng-file-drop="">
      <div class="my-drop-zone trigger text-center">
        <h2 class="glyphicon glyphicon-upload"></h2>
        <h3>Drop your image file here.</h3>
      </div>
      <div image-maps-editor="" ng-init="map = map || {}" class="editor-workspace">
        <div class="showcase-preview">
          <div class="preview-container" ng-init="isPreviewImageLoaded = isPreviewImageLoaded || false">
            <div class="canvas-container">
              <canvas class="preview"
                showcase-preview=""
                width="{{ showcase.type.width }}"
                height="{{ showcase.type.height }}"></canvas>
              <canvas class="area"
                ng-repeat="area in map.areas"
                ng-mousedown="startShapeMove($event)"
                ng-mousemove="moveShape($event)"
                ng-mouseup="stopShapeMove($event)"
                ng-mouseenter="area.active = true"
                ng-mouseleave="area.active = false"
                ng-dblclick="removeArea($index)"
                ng-class="{active: !area.active}"
                data-index="{{$index}}"
                map-area></canvas>
            </div>
            <canvas class="preview-transparent"
              width="{{ showcase.type.width }}"
              height="{{ showcase.type.height }}"
              image-map-edit-layer
              ng-class="{active: isDrawing, hidden: !isPreviewImageLoaded}"></canvas>
          </div>
        </div>
        <section class="area-properties-list clearfix">
          <h4 ng-show="map.areas.length > 0">Area properties:</h4>
          <div class="area-properties well well-sm well-inverse"
            area-properties
            ng-repeat="area in map.areas"
            ng-mouseenter="area.active = true"
            ng-mouseleave="area.active = false"
            ng-class="{active: !area.active}">
            <form name="areaPropertiesForm" class="form">
              <label class="control-label">{{$index + 1}}. </label>
              <div class="form-group">
                <label class="control-label">URL: </label>
                <input type="text" class="form-control input-sm"
                  ng-model="area.url" required>
              </div>
              <div class="form-group">
                <label class="control-label">Title: </label>
                <input type="text" class="form-control input-sm"
                  ng-model="area.title" required>
              </div>
              <div class="form-group">
                <label class="control-label">Target: </label>
                <select class="form-control input-sm"
                  ng-init="area.target = area.target || linkTargets[0]"
                  ng-model="area.target"
                  ng-options="target.value for target in linkTargets"
                  required></select>
              </div>
              <div class="form-group">
                <label class="control-label">Redirect code: </label>
                <select class="form-control input-sm"
                  ng-init="area.redirectCode = area.redirectCode || redirectCodes[0]"
                  ng-model="area.redirectCode"
                  ng-options="target.value for target in redirectCodes"
                  required></select>
              </div>
              <div class="form-group">
                <label class="control-label">HTML: </label>
                <input type="text" class="form-control" ng-model="area.html" />
              </div>
              <div class="form-group">
                <label class="control-label">Area coords: </label>
                <input type="text" class="form-control input-sm" ng-model="area.shape" imagemap-display-coords required>
              </div>
              <button class="btn btn-danger" ng-click="removeArea($index)"><i class="glyphicon glyphicon-remove"></i></button>
            </form>
          </div>
        </section>
      </div>
    </div>
  </div>
</div>
